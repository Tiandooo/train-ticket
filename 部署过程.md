

# linux部署train-ticket项目





install教程：

https://github.com/FudanSELab/train-ticket/wiki/Installation-Guide



```
(1) jdk1.8
(2) maven
(3) docker
(4) docker-compose
```



问题1：先存java版本不一致，卸载java后重装

```bash
sudo apt-get purge openjdk*

# 更新包索引
sudo apt update

# 安装 JDK 1.8
sudo apt install openjdk-8-jdk -y

# 验证安装
java -version
```



安装maven

```
wget https://downloads.apache.org/maven/maven-3/3.8.8/binaries/apache-maven-3.8.8-bin.tar.gz

tar -zxvf apache-maven-3.8.8-bin.tar.gz

ln -s /root/duruibin/apache-maven-3.8.8/bin/mvn /usr/bin/mvn

echo "export MAVEN_HOME=/opt/apache-maven-3.6.3" >> ~/.bashrc
echo "export PATH=\$PATH:\$MAVEN_HOME/bin" >> ~/.bashrc

source ~/.bashrc

# 验证安装
mvn -version

```



maven配置
vim MAVEN_HOME/conf/settings.xml
```xml
<root>
<localRepository>/a-dev/maven/maven-repository</localRepository>

<mirror>
  <id>alimaven</id>
  <name>aliyun maven</name>
  <mirrorOf>central</mirrorOf>
  <url>http://maven.aliyun.com/nexus/content/groups/public/</url>
</mirror>
</root>
```





docker镜像

``````
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
    "registry-mirrors": [
        "https://docker.m.daocloud.io",
        "https://docker.1panel.live",
        "https://hub.rat.dev"
    ]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
``````





docker-compose build

docker-compose up